import java.io.File;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Paths;
import java.util.Scanner;
import java.util.TimerTask;

import com.sun.glass.ui.Timer;

import javafx.animation.KeyFrame;
import javafx.animation.PathTransition;
import javafx.animation.Timeline;
import javafx.event.ActionEvent;
import javafx.event.EventHandler;
import javafx.geometry.VPos;
import javafx.scene.Group;
import javafx.scene.Node;
import javafx.scene.Scene;
import javafx.scene.canvas.Canvas;
import javafx.scene.canvas.GraphicsContext;
import javafx.scene.control.Button;
import javafx.scene.image.Image;
import javafx.scene.image.ImageView;
import javafx.scene.layout.StackPane;
import javafx.scene.paint.Color;
import javafx.scene.shape.ClosePath;
import javafx.scene.shape.MoveTo;
import javafx.scene.shape.Path;
import javafx.scene.shape.PathElement;
import javafx.scene.shape.QuadCurveTo;
import javafx.scene.text.Font;
import javafx.scene.text.FontWeight;
import javafx.scene.text.TextAlignment;
import javafx.stage.Stage;
import javafx.util.Duration;

import javafx.animation.Interpolator;
import javafx.animation.PathTransition;
import javafx.animation.PathTransition.OrientationType;
import javafx.animation.Timeline;

import javafx.application.Application;

import javafx.scene.Group;
import javafx.scene.Scene;

import javafx.scene.image.Image;
import javafx.scene.image.ImageView;

import javafx.scene.paint.Color;

import javafx.scene.shape.ArcTo;
import javafx.scene.shape.ClosePath;
import javafx.scene.shape.LineTo;
import javafx.scene.shape.MoveTo;
import javafx.scene.shape.Path;
import javafx.scene.shape.PathElement;
import javafx.scene.shape.QuadCurveTo;
import javafx.stage.Stage;

import javafx.util.Duration;
 
public class Basketball extends Background 
{
    
    @Override
    
    public void start(Stage primaryStage)  
    {
    	//Animation  - Gets the ball image and sets location
    	ImageView ball = new ImageView();
	     ball.setImage(new Image("file:Ball.png",100, 100, false, false));
	     ball.setX(500);
	     ball.setY(600);
	   
	   //Setting the path of the animation
	   PathElement[] path = 
		   {
				   new MoveTo(525, 770), //Initial start
				   
				   new QuadCurveTo(275,30,550,300), //Curve thing
				   /*new LineTo(300, 400),
				   new LineTo(500,200),
				   new LineTo(100,200),
				   new LineTo(100,350),*/
				   
				   new ClosePath() //Finished the path back to the start
		   };

	   //Adding location of the path for animation
	   Path road = new Path();
	   road.setStroke(Color.TRANSPARENT); //Making the color invisible
	   road.getElements().addAll(path);

	   PathTransition anim = new PathTransition();
	      anim.setNode(ball);
	      anim.setPath(road);
	      anim.setDuration(new Duration(1500));
	      anim.setCycleCount(Timeline.INDEFINITE);
	      
	      
	      
	      
	      
        StackPane root = new StackPane();
        Background back = new Background();
      
        
        //Basic set up of Start Page
        primaryStage.setScene(new Scene(root, 1700, 1000));
        primaryStage.show();
        
        
        //Basketball    
        Canvas canvas = new Canvas( 1700, 1000 );
        root.getChildren().add( canvas );
        root.getChildren().addAll(road,ball);
        

             
        GraphicsContext gc = canvas.getGraphicsContext2D();
      
        
        //Background Image
        Image court = new Image("file:Basketball Court.jpg", 1700, 1000, false, false);
        gc.drawImage(court, 0, 0);
        
        
        
      
     
	      //PLAY ANIMATION COMMAND
	      anim.play();
	      

   
  
     
        
        
        //Read File
      try {
		QuestionBoardDatabase();
	} catch (FileNotFoundException e) {
		// TODO Auto-generated catch block
		e.printStackTrace();
	}
    
      //Font
      gc.setFill(Color.ORANGERED);
      gc.setStroke( Color.BLACK );
      gc.setLineWidth(3);
      Font theFont = Font.font( "Verdana", FontWeight.BOLD, 63 );
      gc.setFont( theFont );
     
      theFont = Font.font( "Verdana", FontWeight.BOLD, 48 );
      gc.setFont(theFont);
      
      
      // Question displayed
      String question = Questions.getRandomQuestion();
      gc.fillText(question, 400, 700);
      gc.strokeText( question, 400,700);
      gc.setTextAlign(TextAlignment.CENTER);
      gc.setTextBaseline(VPos.CENTER);
      
      
      //Answer Choices Displayed
      int num = Questions.getQuestionNumber();
      
        //A
        primaryStage.setTitle("Ball On Stites");
        Button btnA = new Button();
        btnA.setText("A. " + AnswerArrays.getCorrect(num));
       // btnA.setText("A. " + AnswerArrays.get(num).correct);
        btnA.setTranslateX(-400);
        btnA.setTranslateY(318);
        btnA.setMinSize(900,119);
        
        btnA.setOnKeyPressed(
        		event -> {
        			switch(event.getCode())
        			{
        				case Q  : 
        				{
        					anim.play();
        					System.out.println(AnswerArrays.getCorrect(num));	
        					break;
        				}
        				case U : 
        				{
	        				System.out.println(AnswerArrays.getCorrect(num));
	        				break;
	        			}
        			
        		
        			}
        		}
        	);
        
        Directions instructions = new Directions();
        btnA.setOnAction(new EventHandler<ActionEvent>() {
            @Override public void handle(ActionEvent event)
            {
            	/*Stage primaryStage = new Stage();
                instructions.start(primaryStage);
                Stage stage = (Stage) btnA.getScene().getWindow();*/
                System.out.println(AnswerArrays.getCorrect(num));
               // stage.close();
            }
        });
        root.getChildren().add(btnA);
      
        //B
        Button btnB = new Button();
        btnB.setText("B. " + AnswerArrays.getChoiceB(num));
        btnB.setTranslateX(-400);
        btnB.setTranslateY(439);
        btnB.setMinSize(900,119);
        
        btnB.setOnKeyPressed(
        		event -> {
        			switch(event.getCode())
        			{
        				case I : 
        				{
        					System.out.println(AnswerArrays.getChoiceB(num));	
        					break;
        				}
        				case W : 
        				{
	        				System.out.println(AnswerArrays.getChoiceB(num));
	        				break;
	        			}
        			
        		
        			}
        		}
        	);
      
      
        btnB.setOnAction(new EventHandler<ActionEvent>() {
            @Override public void handle(ActionEvent event)
            {
            	/*Stage primaryStage = new Stage();
                instructions.start(primaryStage);
                Stage stage = (Stage) btnB.getScene().getWindow();
                stage.close();*/
            	
            	System.out.println(AnswerArrays.getChoiceB(num));
            }
        });
        
        root.getChildren().add(btnB);
        
      //C
        Button btnC = new Button();
        btnC.setText("C. " + AnswerArrays.getChoiceC(num));
        btnC.setTranslateX(500);
        btnC.setTranslateY(318);
        btnC.setMinSize(900,119);
        
        btnC.setOnKeyPressed(
        		event -> {
        			switch(event.getCode())
        			{
        				case E : 
        				{
        					System.out.println(AnswerArrays.getChoiceC(num));	
        					break;
        				}
        				case O : 
        				{
	        				System.out.println(AnswerArrays.getChoiceC(num));
	        				break;
	        			}
        			
        		
        			}
        		}
        	);
        
       
        btnC.setOnAction(new EventHandler<ActionEvent>() {
            @Override public void handle(ActionEvent event)
            {
            	/*Stage primaryStage = new Stage();
                instructions.start(primaryStage);
                Stage stage = (Stage) btnC.getScene().getWindow();
                stage.close();*/
            	System.out.println(AnswerArrays.getChoiceC(num));
            }
        });
      
        root.getChildren().add(btnC);
        
      //D
        Button btnD = new Button();
        btnD.setText("D. " + AnswerArrays.getChoiceD(num));
        btnD.setTranslateX(500);
        btnD.setTranslateY(439);
        btnD.setMinSize(900,119);
        
        btnD.setOnKeyPressed(
        		event -> {
        			switch(event.getCode())
        			{
        				case R : 
        				{
        					System.out.println(AnswerArrays.getChoiceD(num));	
        					break;
        				}
        				case P : 
        				{
	        				System.out.println(AnswerArrays.getChoiceD(num));
	        				break;
	        			}
        			
        		
        			}
        		}
        	);
      
        
            btnD.setOnAction(new EventHandler<ActionEvent>() {
            @Override public void handle(ActionEvent event)
            {
            	/*Stage primaryStage = new Stage();
                instructions.start(primaryStage);
                Stage stage = (Stage) btn.getScene().getWindow();
                stage.close();*/
            	System.out.println(AnswerArrays.getChoiceD(num));
            }
        });
        root.getChildren().add(btnD);
       
        //Disable maximize option on program
        primaryStage.resizableProperty().setValue(Boolean.FALSE);
        
       
        
    }
   
    public static void QuestionBoardDatabase() throws FileNotFoundException
    {
    	//Answers
    			Scanner file = new Scanner(new File("answer.txt"));
    			int size = file.nextInt();
    			file.nextLine();
    			
    			for(int i = 0; i < size; i++)
    			{
    				String sentence = file.nextLine();
    				
    				AnswerArrays word = new AnswerArrays(sentence);
    				//System.out.println(word);
    			}
    			
    			
				
    		
    			//Questions
    			Scanner file2 = new Scanner(new File("Questions.txt"));
    			size = file2.nextInt();
    			file2.nextLine();
    			
    			for(int i = 0; i < size; i++)
    			{
    				String sentence = file2.nextLine();
    				
    				Questions word = new Questions(sentence);
    				//System.out.println(word);
    			}
    }
    
  /* public static void animation(Stage primaryStage)
   {
	   ImageView ball = new ImageView();
	     ball.setImage(new Image("file:Ball.png",100, 100, false, false));
	     ball.setX(50);
	      ball.setY(550);
	   
	   //Setting the path of the animation
	   PathElement[] path = 
		   {
				   new MoveTo(50, 550),
				   new QuadCurveTo(0,500,300,100)
		   };

	   //Adding location of the path for animation
	   Path road = new Path();
	   road.setStroke(Color.TRANSPARENT);
	   road.getElements().addAll(path);

	   PathTransition anim = new PathTransition();
	      anim.setNode(ball);
	      anim.setPath(road);
	      anim.setDuration(new Duration(1000));
	      anim.setCycleCount(Timeline.INDEFINITE);
	   Group root = new Group();
	      root.getChildren().addAll(road,ball);
	      
	      
	      anim.play();
	      
	      
	      
   }*/
   
}
