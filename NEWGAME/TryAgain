import javafx.event.ActionEvent;
import javafx.event.EventHandler;
import javafx.scene.Scene;
import javafx.scene.canvas.Canvas;
import javafx.scene.canvas.GraphicsContext;
import javafx.scene.control.Button;
import javafx.scene.image.Image;
import javafx.scene.layout.StackPane;
import javafx.scene.paint.Color;
import javafx.scene.text.Font;
import javafx.scene.text.FontWeight;
import javafx.stage.Stage;

public class TryAgain extends Basketball
{
	private int count = 5;
	@Override
    
    public void start(Stage primaryStage) 
    {
		// Basic set up of a start page
        StackPane root = new StackPane();
      
        primaryStage.setScene(new Scene(root, 400, 400));
        primaryStage.show();
        
        Canvas canvas = new Canvas( 400, 400 );
        root.getChildren().add( canvas );
             
        GraphicsContext gc = canvas.getGraphicsContext2D();
      
        
        //Background Image
        Image ball = new Image("file:Basketball-Players-Shooting.png", 400, 400, false, false);
        gc.drawImage(ball, 0, 0);
        
       
        //Ball On Stites Title
        gc.setFill(Color.ORANGERED);
        gc.setStroke( Color.BLACK );
        gc.setLineWidth(3);
        Font theFont = Font.font( "Verdana", FontWeight.BOLD, 77 );
        gc.setFont( theFont );
        gc.fillText( "Ball On Stites!", 60, 90 );
        gc.strokeText( "Ball On Stites!", 60, 90 );
        
        
        //Disable maximize option on program
        primaryStage.resizableProperty().setValue(Boolean.FALSE);
        
      //Button to try again and counts number of attempts left
        primaryStage.setTitle("Ball On Stites");
        Button btn = new Button();
       
        btn.setText("You Have " + count + " times remaining");
        btn.setLayoutX(200);
        btn.setLayoutY(200);
        root.getChildren().add(btn);
        
        Basketball baller = new Basketball();
        btn.setOnAction(new EventHandler<ActionEvent>() {
            @Override public void handle(ActionEvent event)
            {
            	Stage primaryStage = new Stage();
            	count--;
            	btn.setText("You Have " + count + " times remaining");
            	if(count >= 0)
                baller.start(primaryStage);
        
            }
        });
        
        primaryStage.show();
    
    }
}
